(function(a,b){var c="0",d=[],e=0,f="flippyNum.png",g=29,h=40,i,j,k=[],l=6,m=9e3,n=function(a,b){k[b].style.backgroundPosition="-"+g*a+"px 0"},o=function(){var a=b.createElement("li"),c=k.length;a.style.background="url("+f+")",a.style.width=g+"px",a.style.height=h+"px",a.style.cssFloat="left",a.style.styleFloat="left",k.push(a),n(parseInt(d[c],10),c),j.appendChild(a)},p=function(){var a=b.createElement("ul");a.style.overflow="hidden",j=a;for(var c=0;c<l;c++)o();i.appendChild(j)},q=function(a,b){var c=parseInt(d[a],10),e=parseInt(d[a-1],10),f;if(c===9&&!b){d[a]="0",e=q(a-1),n(e,a-1),d[a-1]=parseInt(d[a-1],10).toString();return 0}if(c===0&&b){d[a]="9",e=q(a-1,!0),n(e,a-1),d[a-1]=e.toString();return 9}if(b===!0){d[a]=(c-1).toString();return d[a]}if(a>-1){d[a]=(c+1).toString();return c+1}},r=function(a,b){var d,e=parseInt(c,10),f;b?d=1:a>e?d=m/(a-e):d=m/(e-a);if(a>c)for(var g=0;e<=a;e++,g++)(function(a,b){setTimeout(function(){a%10===0&&b!==0&&(f=q(l-2),n(f,l-2)),n(a%10,l-1)},b*d)})(e,g);else for(var h=0;e>a;e--,h++)(function(a,b){setTimeout(function(){a%10===0?(f=q(l-2,!0),n(f,l-2),n(9,l-1)):n(a%10-1,l-1)},b*100)})(e,h);c=a.toString();return c},s=function(){r(parseInt(c,10)+1,!0);return c},t=function(){var a=l-c.length;if(a>0)for(var b=0;b<a;b++)d.push("0");d=d.concat(c.split(""))},u=function(a,b){i=a||document.body,b=b||{},b.width&&(g=b.width),b.height&&(h=b.height),b.digits&&(l=b.digits),b.startNumber&&(c=b.startNumber.toString()),b.endNumber&&(e=b.endNumber),b.duration&&(m=b.duration),b.imagePath&&(f=b.imagePath),t(),p(),r(e);return{flipTo:r,addOne:s}};a.flippyNum=u})(window,document)
